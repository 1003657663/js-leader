!function(){var t,e,i,o,n,a,r,h,l,d,c,s,f,u,p,m,g,v,y,w,b,L,x,B,k,C,D;t=function(t,e){if("object"==typeof e){var i,o="",n="";for(var a in e){if(o=a,n=e[a],o.indexOf("-")!=-1){o=o.split("-"),i="";for(var r=0;r<o.length;r++)i+=0!=r?o[r].charAt(0).toLocaleUpperCase()+o[r].substring(1):o[r];o=i}t.style[o]=n}}},e=function(t,e){if("object"==typeof t&&"object"==typeof e){for(var i in e)t[i]=e[i];return t}},i=function(t,e){return function(){var i=document.createElement("div"),o=document.createElement("button"),n=document.createElement("button"),a=document.createElement("button");o.innerHTML="上一步",n.innerHTML="下一步",a.innerHTML="结束",t(i,{overflow:"hidden","margin-top":"15px","text-align":"center"}),i.className="preNextParent";var r={"border-radius":"3px","background-color":"#4eb5e6",padding:"5px",border:"none",color:"#fff",cursor:"pointer",margin:"0 auto"};return r.float="left",t(o,e(r,{"margin-right":"5px"})),r.float="right",t(n,e(r,{"margin-left":"5px"})),t(a,e(r,{display:"none"})),i.appendChild(o),i.appendChild(n),i.appendChild(a),{preNextParentDiv:i,preButton:o,nextButton:n,endButton:a}}}(t,e),o=function(t){return function(){var e=document.createElement("div");return t(e,{position:"absolute",top:"-10px",left:"25px",width:"0",height:"0",border:"5px #fff solid","line-height":"0"}),e.className="arrow",e}}(t),n=function(t,e,i,o){return function(){var n=document.createElement("div"),a={position:"absolute",padding:"10px","border-radius":"8px","background-color":"#fff",display:"none",zIndex:"5002",minWidth:"110px",maxWidth:"450px"};t(n,a);var r=document.createElement("p");t(r,{margin:"0",wordBreak:"break-all",wordWrap:"break-word",display:"inline"});var h=e(),l=i();return n.appendChild(l),n.appendChild(r),n.appendChild(h.preNextParentDiv),o({leaderBodyDiv:n,textDiv:r,arrowDiv:l},h)}}(t,i,o,e),a=function(t,e){void 0===e&&(e=!!t.indexOf("-"));var i=/[A-Z]/;if(!t.charAt(0).match(i)){if(e){if(t.indexOf("-")!=-1)return t;for(var o=0,n=[],a=0;a<t.length;a++)a!=t.length-1?t.charAt(a).match(i)&&(n.push(t.substring(o,a).toLocaleLowerCase()),o=a):n.push(t.substring(o,a+1).toLocaleLowerCase());return n.join("-")}if(t.indexOf("-")==-1)return t;for(var r=t.split("-"),n="",a=0;a<r.length;a++)n+=0!=a?r[a].charAt(0).toLocaleUpperCase()+r[a].substring(1):r[0];return n}},r=function(t){return function(e,i){var o,n=t(i,!0);return i=t(i,!1),e.style[i]&&""!=e.style[i]?o=e.style[i]:window.getComputedStyle?o=window.getComputedStyle(e,null).getPropertyValue(n):e.currentStyle?o=e.currentStyle[i]:e.getAttribute&&(o=e.getAttribute(i)),o}}(a),h=function(t){return function(e,i){var o=document.documentElement.clientWidth,n=document.documentElement.clientHeight;if(e===window||e===window.document)return{width:o,height:n};var a={};"none"==t(e,"display")&&(a.display="none",a.visibility=t(e,"visibility"),a.position=t(e,"position"),e.style.visibility="hidden",e.style.position="absolute",e.style.display="block");var r=e.getBoundingClientRect(),h=document.documentElement.clientTop,l=document.documentElement.clientLeft,d={top:r.top-h,left:r.left-l,bottom:r.bottom,right:r.right};if(d.width=e.width||d.right-d.left,d.height=e.height||d.bottom-d.top,d.bottom=n-d.bottom,d.right=o-d.right,0==i){var c=t(e,"padding").split(" ");1==c.length?(d.width-=2*parseFloat(c[0]),d.height-=2*parseFloat(c[0])):2==c.length?(d.width-=2*parseFloat(c[0]),d.width-=2*parseFloat(c[1])):4==c.length&&(d.width-=parseFloat(c[1])+parseFloat(c[3]),d.height-=parseFloat(c[0])+parseFloat(c[2]))}if(a.display&&"none"==a.display)for(var s in a)e.style[s]=a[s];return d}}(r),l=function(t,e){return function(){var i=document.createElement("div"),o=e(window),n={position:"absolute",width:o.width+"px",height:o.height+"px",opacity:"0.3",backgroundColor:"#000","z-index":"5000",top:"0",left:"0",filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=30)"};return t(i,n),i}}(t,h),d=function(){var t=document.createElement(t);return t.innerHTML=".arrow:{_filter:chroma(color=tomato);}",document.getElementsByTagName("head")[0].appendChild(t),{leaderBody:n(),maskDiv:l()}},c=function(){return{aimLocation:null,leaderBodyLocation:null,init:function(t,e){this.aimLocation=t,this.leaderBodyLocation=e},get:function(t,e){if(this.aimLocation&&this.leaderBodyLocation){var i={0:"top",1:"right",2:"bottom",3:"left"};void 0!=e&&(t=i[e]+" "+t);var o={};switch(t){case"top center":o.left=this.aimLocation.left+(this.aimLocation.width-this.leaderBodyLocation.width)/2,o.top=this.aimLocation.top-this.leaderBodyLocation.height-5;break;case"right center":o.top=this.aimLocation.top+(this.aimLocation.height-this.leaderBodyLocation.height)/2,o.left=this.aimLocation.left+this.aimLocation.width+5;break;case"bottom center":o.left=this.aimLocation.left+(this.aimLocation.width-this.leaderBodyLocation.width)/2,o.top=this.aimLocation.top+this.aimLocation.height+5;break;case"left center":o.top=this.aimLocation.top+(this.aimLocation.height-this.leaderBodyLocation.height)/2,o.left=this.aimLocation.left-this.leaderBodyLocation.width-5;break;case"top left":o.left=this.aimLocation.left+this.aimLocation.width-this.leaderBodyLocation.width+this.aimLocation.right/4,o.arrow=this.leaderBodyLocation.width-this.aimLocation.width/2-this.aimLocation.right/4-5,o.top=this.aimLocation.top-this.leaderBodyLocation.height-5;break;case"top right":o.left=this.aimLocation.left-this.aimLocation.left/4,o.arrow=this.aimLocation.left/4+this.aimLocation.width/2-5,o.top=this.aimLocation.top-this.leaderBodyLocation.height-5;break;case"right top":o.top=this.aimLocation.top+this.aimLocation.height-this.leaderBodyLocation.height+this.aimLocation.bottom/4,o.arrow=this.leaderBodyLocation.height-this.aimLocation.height/2-this.aimLocation.bottom/4-5,o.left=this.aimLocation.left+this.aimLocation.width+5;break;case"right bottom":o.top=this.aimLocation.top-this.aimLocation.top/4,o.arrow=this.aimLocation.top/4+this.aimLocation.height/2-5,o.left=this.aimLocation.left+this.aimLocation.width+5;break;case"bottom left":o.left=this.aimLocation.left+this.aimLocation.width-this.leaderBodyLocation.width+this.aimLocation.right/4,o.arrow=this.leaderBodyLocation.width-this.aimLocation.width/2-this.aimLocation.right/4-5,o.top=this.aimLocation.top+this.aimLocation.height+5;break;case"bottom right":o.left=this.aimLocation.left-this.aimLocation.left/4,o.arrow=this.aimLocation.left/4+this.aimLocation.width/2-5,o.top=this.aimLocation.top+this.aimLocation.height+5;break;case"left top":o.top=this.aimLocation.top+this.aimLocation.height-this.leaderBodyLocation.height+this.aimLocation.bottom/4,o.arrow=this.leaderBodyLocation.height-this.aimLocation.height/2-this.aimLocation.bottom/4-5,o.left=this.aimLocation.left-this.leaderBodyLocation.width-5;break;case"left bottom":o.top=this.aimLocation.top-this.aimLocation.top/4,o.arrow=this.aimLocation.top/4+this.aimLocation.height/2-5,o.left=this.aimLocation.left-this.leaderBodyLocation.width-5}return o}}}}(),s=function(t,e,i){return function(t,o){var n=e(t),a=o.cloneBodyNodeLocation;i.init(n,a);var r=!1,h={};if(n.left>(a.width-n.width)/2&&n.right>(a.width-n.width)/2?n.bottom>a.height?(r=!0,h.which=2):n.top>a.height&&(r=!0,h.which=0):n.top>(a.height-n.height)/2&&n.bottom>(a.height-n.height)/2&&(n.left>a.width?(r=!0,h.which=3):n.right>a.width&&(r=!0,h.which=1)),!r){var l=[{id:0,name:"top",leng:n.top},{id:1,name:"right",leng:n.right},{id:2,name:"bottom",leng:n.bottom},{id:3,name:"left",leng:n.left}];l.sort(function(t,e){return e.leng-t.leng}),h.which=l[0].id}var d={};if(r)d=i.get("center",h.which);else switch(h.which){case 0:case 2:d=n.width>=a.width?i.get("center",h.which):n.left>n.right?i.get("left",h.which):i.get("right",h.which);break;case 1:case 3:d=n.height>=a.height?i.get("center",h.which):n.top>n.bottom?i.get("top",h.which):i.get("bottom",h.which)}return{which:h.which,aimLocation:n,leaderBodyLocation:a,nextLocation:d}}}(t,h,c),f=function(t){return function(e,i){var o=i.leaderBodyDiv,n=o.cloneNode(!0);n.style.display="none";var a=n.getElementsByTagName("p")[0];a.innerHTML=e,document.body.appendChild(n);var r=t(n,!1);i.cloneBodyNodeLocation=t(n);var h=n.parentNode;return h&&h.removeChild(n),{width:r.width,height:r.height}}}(h),u=function(t,e,i){var o=f(i,e),n=s(t,e);return n.nextLocation.width=o.width,n.nextLocation.height=o.height,n},p=function(){var t=!!window.ActiveXObject,e=t&&!window.XMLHttpRequest,i=t&&!!document.documentMode,o=t&&!e&&!i;return!!t&&(e?6:i?8:o?7:void 0)},m=function(t,e,i){return function(o,n,a,r){var h=e();t(n,{top:"",left:"",right:"",bottom:""});var l={"border-left-color":"transparent","border-right-color":"transparent","border-bottom-color":"transparent","border-top-color":"transparent"};6==h&&(l=i(l,{"border-top-color":"tomato","border-left-color":"tomato","border-right-color":"tomato","border-bottom-color":"tomato",filter:"chroma(color=tomato)"}));var d={leftOffset:r||o.width/2-5,topOffset:r||o.height/2-5};switch(a){case 0:n.style.left=d.leftOffset+"px",n.style.bottom="-10px",l["border-top-color"]="#fff",t(n,l);break;case 1:n.style.top=d.topOffset+"px",n.style.left="-10px",l["border-right-color"]="#fff",t(n,l);break;case 2:n.style.left=d.leftOffset+"px",n.style.top="-10px",l["border-bottom-color"]="#fff",t(n,l);break;case 3:n.style.top=d.topOffset+"px",n.style.right="-10px",l["border-left-color"]="#fff",t(n,l)}}}(t,p,e),g=function(t,e){return function(t,i,o,n,a){if("object"==typeof i){var r={},h={};r=e(t,!1);for(var l in i){var d=i[l]-r[l];0!=d?h[l]=5*d/o:(delete r[l],delete r[l])}r.width&&(t.style.width=r.width+"px"),r.height&&(t.style.height=r.height+"px"),"function"==typeof a&&a();var c=setInterval(function(){var e=!1;for(var o in h)try{if(r[o]+=h[o],t.style[o]=r[o]+"px",h[o]<0){if(r[o]<=i[o]){e=!0;break}}else if(r[o]>=i[o]){e=!0;break}}catch(t){console.log(t.message)}if(e){clearInterval(c);for(var o in h)t.style[o]=i[o]+"px";"function"==typeof n&&n()}},5)}}}(t,h),v=function(t,e,i,o,n){return function(e,a,r,h){var l=i(e,a,r),d=l.which,c=l.leaderBodyLocation,s=l.nextLocation;h||void 0===h?n(a.leaderBodyDiv,{left:s.left,top:s.top,width:s.width,height:s.height},500,function(){t(a.leaderBodyDiv,{width:"auto",height:"auto"}),a.preNextParentDiv.style.width=s.width<150?"150px":s.width+"px",o(c,a.arrowDiv,d,s.arrow)},function(){a.textDiv.innerHTML=r}):(t(a.leaderBodyDiv,{left:s.left+"px",top:s.top+"px"}),o(c,a.arrowDiv,d,s.arrow))}}(t,h,u,m,g),y=function(t,e,i,o){var n,a={};return function(i,o,r){if(o)n&&t(n,{position:a.position,background:a.backgroundColor,"z-index":a.zIndex});else{var h=document.createElement("div");t(h,{}),h.style.opacity="0.3",n&&t(n,{position:a.position,background:a.backgroundColor,"z-index":a.zIndex}),a.position=e(i,"position"),a.backgroundColor=e(i,"background-color"),a.zIndex=e(i,"z-index"),"fixed"==a.position||"absolute"==a.position||"relative"==a.position?t(i,{backgroundColor:"#fff","z-index":"5001"}):t(i,{position:"relative",backgroundColor:"#fff","z-index":"5001"}),n=i}}}(t,r,h,g),w={addEvent:function(t,e,i){var o=this,n=function(t){t=t||window.event,"function"==typeof i&&i.call(o,t)};if(void 0!==t["on"+e])return t.addEventListener?void t.addEventListener(e,n):t.attachEvent?void t.attachEvent("on"+e,n):void 0},delEvent:function(t,e,i){if(void 0!=t["on"+e])return t.removeEventListener?void t.removeEventListener(e,i):t.detachEvent?void t.detachEvent("on"+e,i):void 0}},b=function(t,e,i,o){return{maskDiv:null,leaderObject:null,preButton:null,nextButton:null,endButton:null,texts:null,aims:null,currentFlag:null,config:null,init:function(t,e,o,n,a){this.leaderObject=e,this.preButton=e.preButton,this.nextButton=e.nextButton,this.endButton=e.endButton,i.addEvent.call(this,this.endButton,"click",this.close),this.texts=o,this.aims=n,this.maskDiv=t,this.config=a},appendToBody:function(){document.body.appendChild(this.leaderObject.leaderBodyDiv),document.body.insertBefore(this.maskDiv,document.body.firstChild)},buttonChange:function(t){1==this.aims.length?(this.preButton.style.display="none",this.nextButton.style.display="none",this.endButton.style.display="inline",this.endButton.style.float="none"):0==t?(this.preButton.style.display="none",this.nextButton.style.float="none"):t==this.aims.length-1?(this.nextButton.style.display="none",this.endButton.style.display="inline",this.endButton.style.float="right"):(this.preButton.style.display="inline",this.nextButton.style.display="inline",this.preButton.style.float="left",this.nextButton.style.float="right",this.endButton.style.display="none")},close:function(){this.maskDiv.remove?(this.maskDiv.remove(),this.leaderObject.leaderBodyDiv.remove()):this.maskDiv.removeNode&&(this.maskDiv.removeNode(!0),this.leaderObject.leaderBodyDiv.removeNode(!0)),e(this.aims[this.currentFlag],!0)},firstShow:function(){this.appendToBody();var i=this.aims[0],n=this.texts[0];this.leaderObject.textDiv.innerHTML=n,this.buttonChange(0),t(i,this.leaderObject,n,!1),this.leaderObject.leaderBodyDiv.style.display="block";var a=o(this.leaderObject.textDiv).width;a=a<150?150:a,this.leaderObject.preNextParentDiv.style.width=a+"px",e(i,!1)},hide:function(){this.maskDiv.remove(),this.leaderObject.leaderBodyDiv.remove()},toggleTo:function(i){if(!(i<0||i>=this.aims.length)){this.buttonChange(i);var o=this.texts[i];t(this.aims[i],this.leaderObject,o),e(this.aims[i]),this.currentFlag=i}}}}(v,y,w,h),L=function(t){function e(o){var n=o.getAttribute(t);n&&i.push(o);var a=o.children.length;if(0!=a)for(var r=0;r<a;r++)e(o.children[r])}var i=[];return e(document.body),i},x=function(t){if("number"==typeof t)return!0;var e=/^[0-9]*$/g;return null!=t.match(e)},B=function(t,e){return function(i){for(var o,n=t("data-leader"),a=n.length,r=[],h=0;h<a;h++){var l=n[h].getAttribute("data-leader");"texts"==l?(o=n[h],o.style.display="none"):e(l)&&(n[h].leaderNum=parseInt(l),r.push(n[h]))}if(i.texts&&i.texts.length>0)o=i.texts;else{o=document.getElementsByTagName("li");var l=[];for(h=0;h<o.length;h++)l.push(o[h].innerHTML);o=l}return{texts:o,aims:r}}}(L,x),k=function(){window},C=function(t,e,i,o,n){return function(a){n();var r=t(),h=i(a),l=h.texts,d=h.aims,c=0;e.init(r.maskDiv,r.leaderBody,l,d,a);var s=r.leaderBody;return o.addEvent(s.preButton,"click",function(t){c>0&&(c--,e.toggleTo(c))}),o.addEvent(s.nextButton,"click",function(t){c<d.length-1&&(c++,e.toggleTo(c))}),{firstShow:function(){e.firstShow()}}}}(d,b,B,w,k),function(t){var e,i={useDefaultStyle:!0,texts:[],nextButtonCallBack:function(t){},preButtonCallBack:function(t){},endButtonCallBack:function(t){},everyAnimationCallBack:function(){}};window.Leader&&(e=window.Leader);var o={setConfig:function(t){"object"==typeof t&&(i=t)},setTexts:function(t){Array.isArray(t)&&(i.texts=t)},show:function(){t(i).firstShow(i)},noConflict:function(){return window.Leader=e,o}};window.Leader=o}(C),D=void 0}();